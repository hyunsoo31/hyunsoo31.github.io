{% extends "base.html" %}
{% load staticfiles %}

{% block content %}
		<link rel="stylesheet" href='{% static "assets/css/main.css" %}' />
		<noscript><link rel="stylesheet" href='{% static "assets/css/noscript.css" %}' /></noscript>


<body>
    <!-- header -->
	<!--
    <div class="jumbotron text-center" style="width: 100%; height: 300px; background-color: white; margin-bottom:0px; text-align:left; padding-left:100px;">
        <h1 style="font-family: 'Open Sans','Helvetica Neue',Arial,sans-serif; color: black; font-weight: bold; font-size: 70px;">자유로운</h1>
        <h1 style="font-family: 'Open Sans','Helvetica Neue',Arial,sans-serif; color: black; font-weight: bold; font-size: 60px; padding-left:140px; margin-top:100px;">커뮤니티 공간</h1>
        <p></p>
    </div>
    -->

    <!-- content -->
			<section id="community" class="main style2 dark fullscreen">
				<div class="content box style2" style="background-color: rgba( 255, 255, 255, 0.5 ); width:80%; height:100%;">
					<h2 style="text-align:center;">커뮤니티</h2>
<table class="table table-striped table-dark" style="border-collapse: inherit;">



  <thead>

    <tr style="border-top:2px solid #cccccc;background-color: rgba(44, 44, 44, 0.5);">

      <th scope="col" style="width:100px;border-right:2px solid #cccccc; font-weight:bold;">ID</th>
      <th scope="col" style="text-align:center;font-weight:bold;">TITLE</th>

      <th scope="col" style="width:100px;border-left:2px solid #cccccc; font-weight:bold;">DATE</th>
    </tr>
  </thead>
    {% for blog in posts %}

  <tbody>

    <tr style="border-bottom:2px solid #cccccc; background-color: rgba(145, 140, 140, 0.5); width:100px;">
      <th scope="row" style="border-right:2px solid #cccccc;">{{blog.author}}</th>
      <td style="text-align:left; width:300px;"><a style="color:black; font-weight: bold;" href="post/{{blog.pk}}">{{blog.title}}</a></td>
      <td style="border-left:2px solid #cccccc; font-size:15px; width:100px;">{{blog.published_date|date:"Y-m-d"}}</td>
    </tr>

  </tbody>
    {% endfor %}

</table>
					<div style="text-align:right;">
					<a href="/add" class="btn btn-primary btn-xl page-scroll" style="margin:0px;">글쓰기</a>
					</div>

<!--
{% for blog in posts %}
    <div class="notice" style="border: 1px solid #969697; margin-left:200px; margin-right:200px;margin-bottom:50px; border-radius: 25px; padding: 50px;">
    <h1 style="font-size:30px; font-weight: bold;">{{blog.author}}</h1>

    <p>{{blog.title}}</p>
    <p style="font-size:12px; text-align:right; color:#969697;">{{blog.created_date}}</p>


    </div>
{% endfor %}
-->

    <div style="text-align:center; margin-top:100px;">
		{% if posts.has_other_pages %}
		      <ul class = "pagination">
		        {% if posts.has_previous %}
		          <li><a href="?page={{ posts.previous_page_number }}">&laquo;</a></li>
		        {% else %}
		          <li class = "disabled"><span>&laquo;</span></li>
		        {% endif %}

		        {% if posts.number > 2  %}
		        	<li><a href="?page={{ 1 }}"> 1 </a></li>
		        	 <li ><span>...<span class="sr-only">...</span></span></li>
		        {% endif %}
		        {% for i in page_range %}

		          {% if posts.number == i %}
		            <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
		          {% else %}
		            <li><a href="?page={{ i }}">{{ i }}</a></li>
		          {% endif %}
		        {% endfor %}

		        {% if posts.number < max_index %}
		      		<li ><span>...<span class="sr-only">...</span></span></li>
		        	<li><a href="?page={{ max_index|add:'2' }}">{{ max_index|add:"2" }}</a></li>
		        {% endif %}

		        {% if posts.has_next %}
		            <li><a href="?page={{ posts.next_page_number }}">&raquo;</a></li>
		        {% else %}
		            <li class="disabled"><span>&raquo;</span></li>
		        {%endif %}
		        </ul>
		    {%endif%}
    </div>

									</div>

			</section>
    <!--
<table id="products" border="1">
    <caption>product list
        <form action="" id="setRows">
            <p>
                showing
                <input type="text" name="rowPerPage" value="10">
                item per page
            </p>
        </form>

    </caption>

    <thead>
        <tr>
            <th>No</th>
            <th>Category</th>
            <th>Product</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>1</td>
            <td>Clothing</td>
            <td>Jacket</td>
        </tr>
        <tr>
            <td>2</td>
            <td>life</td>
            <td>dish</td>
        </tr>
        <tr>
            <td>3</td>
            <td>Clothing</td>
            <td>shocks</td>
        </tr>
        <tr>
            <td>4</td>
            <td>Clothing</td>
            <td>sports</td>
        </tr>
        <tr>
            <td>5</td>
            <td>shoes</td>
            <td>nike</td>
        </tr>
        <tr>
            <td>6</td>
            <td>shoes</td>
            <td>addidas</td>
        </tr>
        <tr>
            <td>7</td>
            <td>Bags</td>
            <td>backpack</td>
        </tr>
        <tr>
            <td>8</td>
            <td>Clothing</td>
            <td>Jacket</td>
        </tr>
        <tr>
            <td>9</td>
            <td>shoes</td>
            <td>bonie</td>
        </tr>
        <tr>
            <td>10</td>
            <td>Clothing</td>
            <td>Jacket</td>
        </tr>
        <tr>
            <td>11</td>
            <td>Clothing</td>
            <td>Jacket</td>
        </tr>
        <tr>
            <td>12</td>
            <td>Clothing</td>
            <td>Jacket</td>
        </tr>
        <tr>
            <td>13</td>
            <td>Clothing</td>
            <td>Jacket</td>
        </tr>
        <tr>
            <td>14</td>
            <td>Clothing</td>
            <td>Jacket</td>
        </tr>
    </tbody>

</table>
-->
    <!--
    <style>


    form {
    width: 500px;
}
table {
    border-collapse:collapse;
    margin-bottom: 10px;
}
th, td {
    padding: 3px 10px;
}
.off-screen {
    display: none;
}
#nav {
    width: 500px;
    text-align: center;
}
#nav a {
    display: inline-block;
    padding: 3px 5px;
    margin-right: 10px;
    font-family:Tahoma;
    background: #ccc;
    color: #000;
    text-decoration: none;
}
#nav a.active {
    background: #333;
    color: #fff;
}
 </style>
    <script>
        var $setRows = $('#setRows');

$setRows.submit(function (e) {
    e.preventDefault();
    var rowPerPage = $('[name="rowPerPage"]').val() * 1;// 1 을  곱하여 문자열을 숫자형로 변환

//      console.log(typeof rowPerPage);

    var zeroWarning = 'Sorry, but we cat\'t display "0" rows page. + \nPlease try again.'
    if (!rowPerPage) {
        alert(zeroWarning);
        return;
    }
    $('#nav').remove();
    var $products = $('#products');

    $products.after('<div id="nav">');


    var $tr = $($products).find('tbody tr');
    var rowTotals = $tr.length;
//  console.log(rowTotals);

    var pageTotal = Math.ceil(rowTotals/ rowPerPage);
    var i = 0;

    for (; i < pageTotal; i++) {
        $('<a href="#"></a>')
                .attr('rel', i)
                .html(i + 1)
                .appendTo('#nav');
    }

    $tr.addClass('off-screen')
            .slice(0, rowPerPage)
            .removeClass('off-screen');

    var $pagingLink = $('#nav a');
    $pagingLink.on('click', function (evt) {
        evt.preventDefault();
        var $this = $(this);
        if ($this.hasClass('active')) {
            return;
        }
        $pagingLink.removeClass('active');
        $this.addClass('active');

        // 0 => 0(0*4), 4(0*4+4)
        // 1 => 4(1*4), 8(1*4+4)
        // 2 => 8(2*4), 12(2*4+4)
        // 시작 행 = 페이지 번호 * 페이지당 행수
        // 끝 행 = 시작 행 + 페이지당 행수

        var currPage = $this.attr('rel');
        var startItem = currPage * rowPerPage;
        var endItem = startItem + rowPerPage;

        $tr.css('opacity', '0.0')
                .addClass('off-screen')
                .slice(startItem, endItem)
                .removeClass('off-screen')
                .animate({opacity: 1}, 300);

    });

    $pagingLink.filter(':first').addClass('active');

});


$setRows.submit();
    </script>
    -->
    <!-- footer -->

</body>
{% endblock content %}